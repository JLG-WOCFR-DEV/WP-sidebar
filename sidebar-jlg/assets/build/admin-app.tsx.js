(()=>{"use strict";var e={162:(e,t,n)=>{var r=n(609),a=n(888),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useSyncExternalStore,o=r.useRef,s=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=o(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c(function(){function e(e){if(!s){if(s=!0,i=e,e=r(e),void 0!==a&&p.hasValue){var t=p.value;if(a(t,e))return o=t}return o=e}if(t=o,l(i,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(i=e,t):(i=e,o=n)}var i,o,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var m=i(e,d[0],d[1]);return s(function(){p.hasValue=!0,p.value=m},[m]),u(m),m}},242:(e,t,n)=>{e.exports=n(162)},493:(e,t,n)=>{var r=n(609),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=r.useState,i=r.useEffect,o=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=l({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return o(function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})},[e,n,t]),i(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},609:e=>{e.exports=window.React},888:(e,t,n)=>{e.exports=n(493)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=n(609);const a=window.wp.element,l=window.wp.apiFetch;var i=n.n(l);const o=window.wp.components,s=e=>{let t;const n=new Set,r=(e,r)=>{const a="function"==typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,l={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(r,a,l);return l};var c=n(242);const{useDebugValue:u}=r,{useSyncExternalStoreWithSelector:d}=c;let p=!1;const m=e=>e,v=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?s(e):s)(e):e,n=(e,n)=>function(e,t=m,n){n&&!p&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),p=!0);const r=d(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return u(r),r}(t,e,n);return Object.assign(n,t),n},b={currentStep:0,completed:!0},f=e=>"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e)),g=e=>"object"==typeof e&&null!==e,y=(e,t)=>{if(e===t)return!0;if(!g(e)||!g(t))return!1;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)&&e.every((e,n)=>y(e,t[n]));const n=Object.entries(e),r=Object.entries(t);return n.length===r.length&&n.every(([e,n])=>Object.prototype.hasOwnProperty.call(t,e)&&y(n,t[e]))},E=(e,t,n)=>{const r=(e=>e.replace(/\[(\d+)\]/g,".$1").split(".").map(e=>e.trim()).filter(Boolean))(t),a=f(e);if(!r.length)return a;let l=a;return r.forEach((e,t)=>{const a=t===r.length-1,i=Number(e),o=Number.isInteger(i)&&""!==e?i:e;if(a)Array.isArray(l)&&"number"==typeof o?l[o]=n:Array.isArray(l)||"object"!=typeof l||null===l||(l[o]=n);else if(Array.isArray(l)){if("number"!=typeof o)return;if(void 0===l[o]){const e=Number.isInteger(Number(r[t+1]))?[]:{};l[o]=e}l=l[o]}else if(l&&"object"==typeof l){const e=l;if(!(o in e)||void 0===e[o]){const n=Number.isInteger(Number(r[t+1]))?[]:{};e[o]=n}const n=e[o];n&&("object"==typeof n||Array.isArray(n))&&(l=n)}}),a},h=(T=(e,t)=>({options:{},defaults:{},profiles:[],activeProfile:"default",activeTab:"general",isCanvasOpen:!1,history:[],future:[],onboarding:b,strings:null,preview:null,setActiveTab:t=>e({activeTab:t}),openCanvas:()=>e({isCanvasOpen:!0}),closeCanvas:()=>e({isCanvasOpen:!1}),setOption:(t,n)=>e(e=>({options:E(e.options,t,n),history:[...e.history,f(e.options)],future:[]})),applyServerOptions:t=>e(e=>y(e.options,t)?e:{options:f(t)}),undo:()=>e(e=>{if(!e.history.length)return e;const t=e.history[e.history.length-1],n=e.history.slice(0,-1),r=[f(e.options),...e.future];return{options:f(t),history:n,future:r}}),redo:()=>e(e=>{if(!e.future.length)return e;const[t,...n]=e.future,r=[...e.history,f(e.options)];return{options:f(t),history:r,future:n}}),canUndo:()=>t().history.length>0,canRedo:()=>t().future.length>0,setOnboardingState:async(t,n=!1)=>{if(e({onboarding:t}),n)try{await i()({path:"/wp/v2/settings",method:"POST",data:{sidebar_jlg_onboarding_state:t}})}catch(e){console.error("Failed to persist onboarding state",e)}},setStrings:t=>e({strings:t})}))?v(T):v,_=()=>{var e;const t=h(e=>e.onboarding),n=h(e=>e.setOnboardingState),a=h(e=>e.setActiveTab),l=h(e=>e.openCanvas),i=h(e=>e.strings),[s,c]=(0,r.useState)(()=>!t.completed&&!0!==t.dismissed);(0,r.useEffect)(()=>{c(!t.completed&&!0!==t.dismissed)},[t]);const u=(0,r.useMemo)(()=>{var e,t,n,r,o,s,c,u,d,p,m,v;if(!i)return[];const b=null!==(e=i.onboardingSteps)&&void 0!==e?e:[],f=null!==(t=i.onboardingCtaLabels)&&void 0!==t?t:[];return[{description:null!==(n=b[0])&&void 0!==n?n:"Activez la sidebar et personnalisez les libellés essentiels.",ctaLabel:null!==(r=f[0])&&void 0!==r?r:"Configurer le général",action:()=>a("general")},{description:null!==(o=b[1])&&void 0!==o?o:"Choisissez les couleurs principales adaptées à votre marque.",ctaLabel:null!==(s=f[1])&&void 0!==s?s:"Adapter les styles",action:()=>a("styles")},{description:null!==(c=b[2])&&void 0!==c?c:"Ajustez votre premier CTA directement dans le canvas interactif.",ctaLabel:null!==(u=f[2])&&void 0!==u?u:"Ouvrir le canvas",action:()=>l()},{description:null!==(d=b[3])&&void 0!==d?d:"Organisez vos profils de diffusion et vérifiez les contextes cibles.",ctaLabel:null!==(p=f[3])&&void 0!==p?p:"Parcourir les profils",action:()=>a("profiles")},{description:null!==(m=b[4])&&void 0!==m?m:"Publiez et partagez votre nouvelle expérience Sidebar JLG !",ctaLabel:null!==(v=f[4])&&void 0!==v?v:"Terminer"}]},[l,a,i]);if(!i||!s||!u.length)return null;const d=u.length,p=Math.min(null!==(e=t.currentStep)&&void 0!==e?e:0,d-1),m=u[p],v=p>=d-1,b=(p+1)/d*100,f=async e=>{await n(e,!0)},g=async()=>{await f({...t,dismissed:!0,completed:t.completed}),c(!1)};return(0,r.createElement)(o.Modal,{title:i.onboardingTitle,onRequestClose:g,className:"sidebar-jlg-onboarding-modal"},(0,r.createElement)("div",{className:"sidebar-jlg-onboarding-modal__intro"},(0,r.createElement)("p",null,i.onboardingDescription),(0,r.createElement)(o.ProgressBar,{value:b,label:`Étape ${p+1} / ${d}`})),(0,r.createElement)(o.Notice,{status:"info",isDismissible:!1},m.description),(0,r.createElement)("div",{className:"sidebar-jlg-onboarding-modal__actions"},(0,r.createElement)(o.Button,{variant:"link",onClick:g},i.onboardingSkip),(0,r.createElement)(o.Button,{variant:"primary",onClick:async()=>{if(m.action?.(),v)return await f({...t,completed:!0,currentStep:p}),void c(!1);await(async()=>{const e=Math.min(p+1,d-1),n=v||e===d-1;await f({...t,currentStep:e,completed:n}),n&&c(!1)})()}},v?i.onboardingFinish:m.ctaLabel)))},w=()=>{var e,t,n,a,l;const i=h(e=>e.isCanvasOpen),s=h(e=>e.closeCanvas),c=h(e=>e.options),u=h(e=>e.preview),d=h(e=>e.applyServerOptions),p=h(e=>e.setOption),m=h(e=>e.undo),v=h(e=>e.redo),b=h(e=>e.canUndo()),f=h(e=>e.canRedo()),g=h(e=>e.strings),[y,E]=(0,r.useState)(""),[_,w]=(0,r.useState)(!1),[C,j]=(0,r.useState)(null),S=(0,r.useRef)(null),A=(0,r.useRef)(null),N=(0,r.useRef)(null),T=(0,r.useMemo)(()=>`sidebar-jlg-preview-title-${Math.random().toString(36).slice(2)}`,[]),O=(0,r.useMemo)(()=>`sidebar-jlg-preview-description-${Math.random().toString(36).slice(2)}`,[]),{handleKeyDown:x}=(({isActive:e,surfaceRef:t,ownerRef:n,onEscape:a})=>{const l=(0,r.useRef)(null),i=(0,r.useRef)([]),o=(0,r.useCallback)(()=>{const e=t.current;return e?Array.from(e.querySelectorAll('a[href], area[href], button:not([disabled]), input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(e=>!(e.hasAttribute("disabled")||"true"===e.getAttribute("aria-hidden")||e.tabIndex<0||e.hasAttribute("hidden")||e.closest("[hidden]"))):[]},[t]),s=(0,r.useCallback)(()=>{var e,r;return null!==(e=null!==(r=n?.current)&&void 0!==r?r:t.current)&&void 0!==e?e:null},[n,t]),c=(0,r.useCallback)(()=>{const e=s();if(!e)return null;const t=e.closest(".sidebar-jlg-admin-app__root");if(t)return t;const n=e.parentElement;return n instanceof HTMLElement&&n!==document.body&&n!==document.documentElement&&"wpwrap"!==n.id?n:null},[s]),u=(0,r.useCallback)(()=>{var e;const n=null!==(e=o()[0])&&void 0!==e?e:t.current;n?.focus({preventScroll:!0})},[o,t]),d=(0,r.useCallback)(e=>{if("Escape"===e.key)return e.preventDefault(),void a?.();if("Tab"!==e.key)return;const n=o();if(!n.length)return e.preventDefault(),void t.current?.focus({preventScroll:!0});const r=n[0],l=n[n.length-1],i=document.activeElement;e.shiftKey?i&&i!==r&&t.current?.contains(i)||(e.preventDefault(),l.focus()):i===l&&(e.preventDefault(),r.focus())},[o,a,t]);return(0,r.useEffect)(()=>{var t;if(!e)return;const n=s();l.current=null!==(t=document.activeElement)&&void 0!==t?t:null;const r=l.current;r&&n&&!n.contains(r)&&"function"==typeof r.blur&&r.blur();const a=c();let o=n;if(a&&o)for(;o&&o.parentElement!==a;)o=o.parentElement;if(a&&o&&o.parentElement===a){const e=Array.from(a.children).filter(e=>e instanceof HTMLElement&&e!==o);i.current=e.map(e=>{const t={element:e,ariaHidden:e.getAttribute("aria-hidden"),inert:e.hasAttribute("inert")};return e.setAttribute("aria-hidden","true"),e.setAttribute("inert",""),t})}else i.current=[];const d=()=>{const e=document.activeElement;!n||e&&n.contains(e)||u()};d();const p=window.setTimeout(()=>{d()},0);return()=>{"number"==typeof p&&window.clearTimeout(p),i.current.forEach(({element:e,ariaHidden:t,inert:n})=>{null===t?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t),n?e.setAttribute("inert",""):e.removeAttribute("inert")}),i.current=[],l.current?.focus({preventScroll:!0}),l.current=null}},[u,c,s,e]),{handleKeyDown:d}})({isActive:i,surfaceRef:A,ownerRef:S,onEscape:s}),P=(0,r.useMemo)(()=>(e=>(Array.isArray(e.menu_items)?e.menu_items:[]).findIndex(e=>!(!e||"object"!=typeof e)&&"cta"===e.type))(c),[c]),k=(0,r.useMemo)(()=>{var e,t;return P<0?"#3b82f6":null!==(t=(null!==(e=(Array.isArray(c.menu_items)?c.menu_items:[])[P])&&void 0!==e?e:{}).cta_button_color)&&void 0!==t?t:"#3b82f6"},[c,P]),D=(0,r.useMemo)(()=>u?async()=>{w(!0),j(null);try{var e;const n=new window.FormData;n.append("action",u.action),n.append("nonce",u.nonce),n.append("options",JSON.stringify(c));const r=await window.fetch(u.ajaxUrl,{method:"POST",credentials:"same-origin",body:n}),a=await r.json();var t;if(!a?.success)return void j(null!==(t=g?.previewError)&&void 0!==t?t:"Impossible de charger l’aperçu.");const l=null!==(e=a.data)&&void 0!==e?e:{};"string"==typeof l.html&&E(l.html),l.options&&d(l.options)}catch(e){var n;j(null!==(n=g?.previewError)&&void 0!==n?n:"Impossible de charger l’aperçu.")}finally{w(!1)}}:()=>{},[d,c,u,g]);var L,R;return L=()=>{i&&u&&D()},R=[c,i,u,D],(0,r.useEffect)(()=>{const e=window.setTimeout(()=>{L()},300);return()=>{window.clearTimeout(e)}},R),(0,r.useEffect)(()=>{if(!i)return;const e=N.current;if(!e||P<0)return;const t=[],n=(n,r)=>{const a=e.querySelector(n);if(!a)return;a.setAttribute("contenteditable","true"),a.dataset.sidebarEditable=r;const l=()=>{p(`menu_items[${P}].${r}`,a.innerText.trim())};a.addEventListener("input",l),t.push(()=>{a.removeEventListener("input",l),a.removeAttribute("contenteditable"),delete a.dataset.sidebarEditable})};return n(".menu-cta__title","cta_title"),n(".menu-cta__description","cta_description"),n(".menu-cta__button span","cta_button_label"),()=>{t.forEach(e=>e())}},[P,y,i,p]),i?(0,r.createElement)("div",{className:"sidebar-jlg-preview-canvas",ref:S,role:"presentation"},(0,r.createElement)("div",{className:"sidebar-jlg-preview-canvas__backdrop","aria-hidden":"true",onClick:s}),(0,r.createElement)("div",{className:"sidebar-jlg-preview-canvas__surface",ref:A,role:"dialog","aria-modal":"true","aria-labelledby":T,"aria-describedby":O,tabIndex:-1,onKeyDown:x},(0,r.createElement)("header",{className:"sidebar-jlg-preview-canvas__toolbar"},(0,r.createElement)("h2",{id:T,className:"screen-reader-text"},null!==(e=g?.previewCanvasTitle)&&void 0!==e?e:"Aperçu de la sidebar JLG"),(0,r.createElement)("div",{className:"sidebar-jlg-preview-canvas__toolbar-group"},(0,r.createElement)(o.Button,{variant:"secondary",onClick:m,disabled:!b},null!==(t=g?.undo)&&void 0!==t?t:"Annuler"),(0,r.createElement)(o.Button,{variant:"secondary",onClick:v,disabled:!f},null!==(n=g?.redo)&&void 0!==n?n:"Rétablir")),(0,r.createElement)(o.Button,{variant:"primary",onClick:s},null!==(a=g?.closeCanvas)&&void 0!==a?a:"Fermer")),(0,r.createElement)("p",{id:O,className:"screen-reader-text"},null!==(l=g?.previewCanvasDescription)&&void 0!==l?l:"Aperçu interactif de la sidebar. Les touches Tab et Maj+Tab parcourent les contrôles, Échap ferme la fenêtre."),C&&(0,r.createElement)("div",{className:"sidebar-jlg-preview-canvas__notice"},(0,r.createElement)(o.Notice,{status:"error",onRemove:()=>j(null)},C)),(0,r.createElement)("div",{className:"sidebar-jlg-preview-canvas__content"},(0,r.createElement)("div",{className:"sidebar-jlg-preview-canvas__preview",ref:N,dangerouslySetInnerHTML:{__html:y}}),P>=0&&(0,r.createElement)("aside",{className:"sidebar-jlg-preview-canvas__inspector"},(0,r.createElement)(o.Panel,null,(0,r.createElement)(o.PanelBody,{title:"CTA",initialOpen:!0},(0,r.createElement)(o.ColorPicker,{color:k,onChangeComplete:e=>{var t;const n="string"==typeof e?e:null!==(t=e.hex)&&void 0!==t?t:k;p(`menu_items[${P}].cta_button_color`,n)}}))))),_&&(0,r.createElement)("div",{className:"sidebar-jlg-preview-canvas__loading",role:"status","aria-live":"polite"},(0,r.createElement)(o.Spinner,null)))):null},C=()=>{var e,t,n,a,l;const i=h(e=>e.options),s=h(e=>e.setOption),c=null!==(e=i.app_name)&&void 0!==e?e:"",u=null!==(t=i.toggle_open_label)&&void 0!==t?t:"",d=null!==(n=i.toggle_close_label)&&void 0!==n?n:"",p=null!==(a=i.nav_aria_label)&&void 0!==a?a:"";return(0,r.createElement)("div",{className:"sidebar-jlg-tab sidebar-jlg-tab--general"},(0,r.createElement)(o.PanelBody,{title:"Accessibilité & activation",initialOpen:!0},(0,r.createElement)(o.ToggleControl,{label:"Activer la sidebar sur le site",checked:Boolean(i.enable_sidebar),onChange:e=>s("enable_sidebar",e)}),(0,r.createElement)(o.ToggleControl,{label:"Collecter les métriques (clics, conversions)",checked:Boolean(i.enable_analytics),onChange:e=>s("enable_analytics",e),help:"Active l'envoi des événements analytics via l'API du plugin."}),(0,r.createElement)(o.TextControl,{label:"Libellé d'ouverture",value:u,onChange:e=>s("toggle_open_label",e),help:"Texte vocalisé pour l'action d'ouverture de la sidebar."}),(0,r.createElement)(o.TextControl,{label:"Libellé de fermeture",value:d,onChange:e=>s("toggle_close_label",e)}),(0,r.createElement)(o.TextControl,{label:"Intitulé ARIA du menu",value:p,onChange:e=>s("nav_aria_label",e)})),(0,r.createElement)(o.PanelBody,{title:"Identité",initialOpen:!0},(0,r.createElement)(o.TextControl,{label:"Nom affiché",value:c,onChange:e=>s("app_name",e)}),(0,r.createElement)(o.TextControl,{label:"Position (gauche/droite)",value:null!==(l=i.sidebar_position)&&void 0!==l?l:"left",onChange:e=>s("sidebar_position",e||"left"),help:"Utilisez left ou right selon la position souhaitée."})))},j=()=>{var e,t,n,a;const l=h(e=>e.options),i=h(e=>e.setOption),s=null!==(e=l.bg_color)&&void 0!==e?e:"#18181b",c=null!==(t=l.accent_color)&&void 0!==t?t:"#0d6efd",u=null!==(n=l.font_color)&&void 0!==n?n:"#e0e0e0",d=Number(null!==(a=l.width_desktop)&&void 0!==a?a:280);return(0,r.createElement)("div",{className:"sidebar-jlg-tab sidebar-jlg-tab--styles"},(0,r.createElement)(o.PanelBody,{title:"Palette",initialOpen:!0},(0,r.createElement)("div",{className:"sidebar-jlg-color-control"},(0,r.createElement)("span",{className:"sidebar-jlg-color-control__label"},"Fond"),(0,r.createElement)(o.ColorPicker,{color:s,onChangeComplete:e=>{var t;const n="string"==typeof e?e:null!==(t=e.hex)&&void 0!==t?t:s;i("bg_color",n)}})),(0,r.createElement)("div",{className:"sidebar-jlg-color-control"},(0,r.createElement)("span",{className:"sidebar-jlg-color-control__label"},"Accent"),(0,r.createElement)(o.ColorPicker,{color:c,onChangeComplete:e=>{var t;const n="string"==typeof e?e:null!==(t=e.hex)&&void 0!==t?t:c;i("accent_color",n)}})),(0,r.createElement)("div",{className:"sidebar-jlg-color-control"},(0,r.createElement)("span",{className:"sidebar-jlg-color-control__label"},"Texte"),(0,r.createElement)(o.ColorPicker,{color:u,onChangeComplete:e=>{var t;const n="string"==typeof e?e:null!==(t=e.hex)&&void 0!==t?t:u;i("font_color",n)}}))),(0,r.createElement)(o.PanelBody,{title:"Dimensions",initialOpen:!0},(0,r.createElement)(o.RangeControl,{label:"Largeur bureau",value:d,onChange:e=>i("width_desktop",Number(null!=e?e:d)),min:200,max:480})))},S=()=>{const e=h(e=>e.profiles),t=h(e=>e.activeProfile);return e.length?(0,r.createElement)("div",{className:"sidebar-jlg-tab sidebar-jlg-tab--profiles"},e.map(e=>{var n,a,l;const i=e,s=null!==(n=i.id)&&void 0!==n?n:"default",c=null!==(a=i.title)&&void 0!==a?a:s,u=null!==(l=i.description)&&void 0!==l?l:"",d=!1!==i.enabled;return(0,r.createElement)(o.Card,{key:s,className:"sidebar-jlg-profile-card"},(0,r.createElement)(o.CardHeader,null,(0,r.createElement)("span",{className:"sidebar-jlg-profile-card__title"},c),s===t&&(0,r.createElement)("span",{className:"sidebar-jlg-profile-card__badge"},"Actif")),(0,r.createElement)(o.CardBody,null,(0,r.createElement)("p",{className:"sidebar-jlg-profile-card__description"},u||"Profil sans description."),(0,r.createElement)("p",{className:"sidebar-jlg-profile-card__meta"},"Statut : ",d?"Activé":"Désactivé")))})):(0,r.createElement)(o.Notice,{status:"warning",isDismissible:!1},"Aucun profil personnalisé n'est encore configuré. Utilisez le canvas pour en créer un en quelques clics.")},A=document.getElementById("sidebar-jlg-admin-app-root"),N=window.sidebarJLGApp;var T;N?.restNonce&&i().use(i().createNonceMiddleware(N.restNonce)),A&&N?((e=>{var t;h.setState({options:f(e.options),defaults:f(e.defaults),profiles:e.profiles,activeProfile:e.activeProfile||"default",onboarding:null!==(t=e.onboarding)&&void 0!==t?t:b,strings:e.strings,preview:e.preview,history:[],future:[],activeTab:"general",isCanvasOpen:!1})})(N),A.classList.add("is-mounted"),(0,a.render)((0,r.createElement)(r.StrictMode,null,(0,r.createElement)(()=>{const e=h(e=>e.activeTab),t=h(e=>e.setActiveTab),n=h(e=>e.openCanvas),l=h(e=>e.strings),i=h(e=>e.options),s="string"==typeof i.app_name&&""!==i.app_name?i.app_name:"Sidebar JLG",c=(0,a.useMemo)(()=>{var e,t,n;return[{name:"general",title:null!==(e=l?.generalTab)&&void 0!==e?e:"Général",className:"sidebar-jlg-tab-general"},{name:"styles",title:null!==(t=l?.stylesTab)&&void 0!==t?t:"Styles",className:"sidebar-jlg-tab-styles"},{name:"profiles",title:null!==(n=l?.profilesTab)&&void 0!==n?n:"Profils",className:"sidebar-jlg-tab-profiles"}]},[l]);return l?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(_,null),(0,r.createElement)(o.Panel,{className:"sidebar-jlg-admin-panel"},(0,r.createElement)("div",{className:"sidebar-jlg-admin-panel__header"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"sidebar-jlg-admin-panel__title"},s),(0,r.createElement)("p",{className:"sidebar-jlg-admin-panel__subtitle"},l.onboardingDescription)),(0,r.createElement)(o.Button,{variant:"primary",onClick:n},l.openCanvas)),(0,r.createElement)(o.TabPanel,{className:"sidebar-jlg-admin-tabs",activeClass:"is-active",tabs:c,onSelect:e=>t(e),initialTabName:e},e=>{switch(e.name){case"styles":return(0,r.createElement)(j,null);case"profiles":return(0,r.createElement)(S,null);default:return(0,r.createElement)(C,null)}})),(0,r.createElement)(w,null)):null},null)),A)):A&&A.classList.add("is-missing-bootstrap")})();