"use strict";(globalThis.webpackChunkwp_sidebar=globalThis.webpackChunkwp_sidebar||[]).push([[956],{18:(t,e,i)=>{function n(t,e){const i=t(".nav-tab-wrapper"),n=t(".tab-content"),a=t("[data-sidebar-settings-search]"),s=t("#sidebar-jlg-settings-search-status"),r=t("[data-sidebar-search-clear]"),o={root:t("[data-sidebar-guided]"),toggle:t("[data-sidebar-guided-toggle]"),controls:t("[data-sidebar-guided-controls]"),progress:t("[data-sidebar-guided-progress]"),title:t("[data-sidebar-guided-title]"),prev:t("[data-sidebar-guided-prev]"),next:t("[data-sidebar-guided-next]"),exit:t("[data-sidebar-guided-exit]")};let l="";const d={isActive:!1,index:0};function c(){return i.find(".nav-tab")}function g(t,e){t&&t.length&&(t.toggleClass("active",e),t.attr("aria-hidden",e?"false":"true"),e?t.removeAttr("hidden"):t.attr("hidden","hidden"))}function u(e,i=!1){if(!e||!e.length)return;const a=c(),s=e.attr("aria-controls"),r=s?document.getElementById(s):null,o=r?t(r):t();a.each(function(){const i=t(this),n=i.is(e);i.toggleClass("nav-tab-active",n),i.attr("aria-selected",n?"true":"false"),i.attr("tabindex",n?"0":"-1")}),n.each(function(){const e=t(this),i=e.is(o);g(e,i)}),r&&!o.hasClass("active")&&g(o,!0),function(t,e){d.isActive&&"tab-general"!==t?k():d.isActive&&w(),b(l),e&&e.length&&e.is("#tab-general")&&y()}(s,o),i&&e.trigger("focus")}function h(t){const e=c();if(!e.length)return;const i=(t+e.length)%e.length;u(e.eq(i),!0)}function f(){const t=l.length>0;r.length&&r.prop("disabled",!t||d.isActive),a.length&&(a.prop("disabled",d.isActive),a.closest(".sidebar-jlg-command-bar__search").toggleClass("is-disabled",d.isActive))}function b(i){const a="string"==typeof i?i.trim().toLowerCase():"";if(l=a,!a)return n.each(function(){const e=t(this);e.removeClass("is-searching"),e.find("[data-sidebar-filterable]").each(function(){const e=t(this);e.removeClass("is-filter-hidden"),e.attr("aria-hidden","false")})}),syncExperienceModeVisibility(),s.length&&s.text(""),f(),void syncExperienceModeVisibility();const r=n.filter(".active").first(),o=function(e){return e&&e.length?e.find("[data-sidebar-filterable]"):t()}(r);if(!r.length||!o.length)return s.length&&s.text(e("searchNoTarget","Aucun réglage filtrable sur cet onglet.")),void f();r.addClass("is-searching");let d=0;if(o.each(function(){const e=t(this);if(!e.data("sidebarFilterText")){const t="string"==typeof e.attr("data-sidebar-filter-label")?e.attr("data-sidebar-filter-label"):"",i="string"==typeof e.attr("data-sidebar-filter-keywords")?e.attr("data-sidebar-filter-keywords"):"",n=(e.text()||"").replace(/\s+/g," ");e.data("sidebarFilterText",`${t} ${i} ${n}`.toLowerCase())}const i=e.data("sidebarFilterText"),n="string"==typeof i&&i.includes(a);e.toggleClass("is-filter-hidden",!n),e.attr("aria-hidden",n?"false":"true"),e.is("details")&&(n?e.attr("open","open"):e.removeAttr("open")),n&&(d+=1)}),s.length)if(d>0){const t=e("searchResultsCount","%d sections affichées.");s.text(t.replace("%d",d))}else s.text(e("searchNoResults","Aucun résultat ne correspond aux mots-clés saisis."));f(),syncExperienceModeVisibility()}function v(){a.length&&a.val(""),b("")}function p(){return t("#tab-general")}function x(){const e=p();return e.length?e.find("[data-sidebar-guided-step]"):t()}function A(){if(!o.toggle.length)return;const t=o.toggle.attr("data-label-enable")||o.toggle.text(),e=o.toggle.attr("data-label-disable")||t;o.toggle.text(d.isActive?e:t),o.toggle.attr("aria-pressed",d.isActive?"true":"false")}function m(t){const i="number"==typeof t?t:x().length;if(o.prev.length&&o.prev.prop("disabled",!d.isActive||d.index<=0),o.next.length){const t=d.index>=i-1?e("guidedModeFinish","Terminer"):e("guidedModeNext","Suivant");o.next.text(t)}}function w(){const i=p(),n=x();if(!d.isActive)return i.length&&i.removeClass("is-guided-mode"),n.each(function(){const e=t(this);e.removeClass("is-guided-active is-filter-hidden"),e.attr("aria-hidden","false"),e.is("details")&&e.removeAttr("open")}),o.controls.length&&o.controls.attr("hidden","hidden"),o.progress.length&&o.progress.text(""),o.title.length&&o.title.text(""),o.root.attr("data-guided-active","false"),A(),m(n.length),void f();if(!n.length)return void k();i.length&&i.addClass("is-guided-mode");const a=n.length;d.index>=a&&(d.index=a-1),d.index<0&&(d.index=0);let s=t();n.each(function(e){const i=t(this),n=e===d.index;i.toggleClass("is-guided-active",n),i.removeClass("is-filter-hidden"),i.attr("aria-hidden",n?"false":"true"),i.is("details")&&(n?i.attr("open","open"):i.removeAttr("open")),n&&(s=i)});const r=s.attr("data-sidebar-guided-title")||s.find(".sidebar-jlg-section__title").text()||"",l=e("guidedModeStepLabel","Étape %1$s sur %2$s");o.progress.length&&o.progress.text(l.replace("%1$s",d.index+1).replace("%2$s",a)),o.title.length&&o.title.text(r),o.controls.length&&o.controls.removeAttr("hidden"),o.root.attr("data-guided-active","true"),A(),m(a),f(),s.length&&window.setTimeout(()=>{!function(t){if(!t||!t.length||"function"!=typeof t[0].scrollIntoView)return;const e=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;try{t[0].scrollIntoView({behavior:e?"auto":"smooth",block:"start"})}catch(i){t[0].scrollIntoView(!e)}}(s)},100)}function y(){const t=x().length>0;o.toggle.length&&o.toggle.prop("disabled",!t),o.root.attr("data-guided-available",t?"true":"false"),!t&&d.isActive&&(d.isActive=!1,w())}function C(){const e=t("#tab-general-tab");e.length&&u(e,!1),d.isActive=!0,d.index=0,v(),w()}function k(){d.isActive&&(d.isActive=!1,w())}i.on("click",".nav-tab",function(e){e.preventDefault(),u(t(this),!0)}),i.on("keydown",".nav-tab",function(e){const i=e.key,n=c(),a=n.index(this);"ArrowLeft"===i?(e.preventDefault(),h(a-1)):"ArrowRight"===i?(e.preventDefault(),h(a+1)):"Home"===i?(e.preventDefault(),h(0)):"End"===i?(e.preventDefault(),h(n.length-1)):" "!==i&&"Spacebar"!==i&&"Enter"!==i||(e.preventDefault(),u(t(this),!0))}),a.length&&(a.on("input",function(){d.isActive&&k();const e=t(this).val();b("string"==typeof e?e:"")}),a.on("keydown",function(t){"Escape"===t.key&&(t.preventDefault(),v())})),r.length&&r.on("click",function(){v(),a.length&&a.trigger("focus")}),o.toggle.length&&o.toggle.on("click",function(){d.isActive?k():C()}),o.prev.length&&o.prev.on("click",function(){d.isActive&&d.index>0&&(d.index-=1,w())}),o.next.length&&o.next.on("click",function(){if(!d.isActive)return void C();const t=x().length;d.index>=t-1?k():(d.index+=1,w())}),o.exit.length&&o.exit.on("click",function(){k(),a.length&&a.trigger("focus")}),y(),A(),b("");const T=c().filter(".nav-tab-active").first();return T.length?u(T,!1):u(c().first(),!1),{activateTab:u,applySearchFilter:b}}i.r(e),i.d(e,{initSearchSection:()=>n})}}]);