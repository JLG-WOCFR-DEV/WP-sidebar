(()=>{const e="undefined"!=typeof window&&"undefined"!=typeof document,t=e=>{if("string"!=typeof e)return null;if(""===e||"transparent"===e.toLowerCase())return null;const t=e.match(/^rgba?\(([^)]+)\)$/i);if(!t)return null;const a=t[1].split(",").map(e=>parseFloat(e.trim())).filter(e=>!Number.isNaN(e));if(a.length<3)return null;const[r,n,i,s=1]=a;return{r:Math.min(Math.max(r,0),255),g:Math.min(Math.max(n,0),255),b:Math.min(Math.max(i,0),255),a:Math.min(Math.max(s,0),1)}},a=e=>{const t=e=>{const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)};return.2126*t(e.r)+.7152*t(e.g)+.0722*t(e.b)},r=e=>!e||e.a<=.05,n=n=>{if(!n)return;const i=n.getAttribute("data-sidebar-search-scheme")||"auto";let s=i;"auto"===i&&(s=(n=>{if(!e||!n)return"dark";let i=n;for(;i;){if(i instanceof Element){const e=window.getComputedStyle(i),n=t(e.backgroundColor);if(!r(n))return a(n)<.5?"dark":"light";const s=i.parentNode;i=s instanceof ShadowRoot?s:i.parentElement?i.parentElement:s instanceof Document?s.documentElement:s;continue}if(i instanceof ShadowRoot)i=i.host;else{if(!(i instanceof Document))break;i=i.documentElement}}if(e&&window.matchMedia)try{if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}catch(e){}return"light"})(n)),"light"!==s&&"dark"!==s&&(s="dark"),n.getAttribute("data-sidebar-search-applied-scheme")!==s&&n.setAttribute("data-sidebar-search-applied-scheme",s),["light","dark"].forEach(e=>{const t=`sidebar-search--scheme-${e}`;e===s?n.classList.add(t):n.classList.remove(t)})},i=(()=>{if("undefined"==typeof document)return"";const e=document.body;return e?["block-editor-page","block-editor-iframe__body","edit-site-visual-editor__body","site-editor-iframe__body"].some(t=>e.classList.contains(t))?"sidebar-search--editor":"sidebar-search--frontend":""})(),s=e=>{if(!e)return;const t=e.getAttribute("data-sidebar-search-align");t&&e.style.setProperty("--sidebar-search-alignment",t)},o=(e=document)=>{e.querySelectorAll("[data-sidebar-search-align]").forEach(e=>{var t;s(e),(t=e)&&i&&t.classList.add(i),n(e)})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>o()):o(),"MutationObserver"in window&&new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&e.target instanceof HTMLElement&&"data-sidebar-search-scheme"===e.attributeName&&n(e.target),e.addedNodes.forEach(e=>{e instanceof HTMLElement&&(e.matches("[data-sidebar-search-align]")&&s(e),e.matches("[data-sidebar-search-scheme]")&&n(e),o(e))})})}).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-sidebar-search-scheme"]})})();