(()=>{const e="sidebar-search--scheme-light",t="sidebar-search--scheme-dark",r=e=>{var t;if(!e||"undefined"==typeof window||!window.getComputedStyle)return null;const r=e.getAttribute("data-sidebar-search-scheme");if("light"===r||"dark"===r)return r;if(r&&"auto"!==r)return null;const n=window.getComputedStyle(e),a=(e=>{if("string"!=typeof e)return null;const t=e.match(/rgba?\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)/i);return t?{r:Number.parseFloat(t[1]),g:Number.parseFloat(t[2]),b:Number.parseFloat(t[3])}:null})(null!==(t=n?.color)&&void 0!==t?t:"");return a?(({r:e,g:t,b:r})=>{const n=e=>{const t=e/255;return t<=.03928?t/12.92:((t+.055)/1.055)**2.4};return.2126*n(e)+.7152*n(t)+.0722*n(r)})(a)>.55?"dark":"light":null},n=e=>{if(!e)return;const t=e.getAttribute("data-sidebar-search-align");t&&e.style.setProperty("--sidebar-search-alignment",t)},a=(()=>{if("undefined"==typeof document)return"";const e=document.body;return e?["block-editor-page","block-editor-iframe__body","edit-site-visual-editor__body","site-editor-iframe__body"].some(t=>e.classList.contains(t))?"sidebar-search--editor":"sidebar-search--frontend":""})(),d=e=>{e&&a&&e.classList.add(a)},s=n=>{if(!n)return;const a=r(n);a&&(n.classList.remove(e,t),n.classList.add("dark"===a?t:e))},o=e=>{n(e),d(e),s(e)},i=(e=document)=>{var t;"undefined"!=typeof document&&e&&(null!==(t=e.querySelectorAll?.("[data-sidebar-search-align]"))&&void 0!==t?t:[]).forEach(e=>{o(e)})},c={applyAlignmentProperty:n,applyEnvironmentClass:d,applySchemeClass:s,determineScheme:r,scan:i};"undefined"!=typeof window&&(window.SidebarJlgSearchView=c),"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>i()):i(),"undefined"!=typeof MutationObserver&&new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{e instanceof HTMLElement&&(e.matches("[data-sidebar-search-align]")?o(e):i(e))})})}).observe(document.documentElement,{childList:!0,subtree:!0}))})();